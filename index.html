<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrossel de Imagens e Vídeos</title>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <style>
        body { font-family: Arial, sans-serif; }
        .swiper-container {
            width: 100%; /* Largura total do contêiner */
            height: auto; /* Altura automática para caber no conteúdo */
        }
        .swiper-slide {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 50vh; /* Usa 50% da altura da viewport */
        }
        .swiper-slide img {
            max-width: 100%; /* Permite que ocupem a largura total do contêiner */
            max-height: 100%; /* Limita a altura ao tamanho do contêiner */
            width: auto; /* Ajusta a largura automaticamente */
            height: auto; /* Ajusta a altura automaticamente */
        }
        .swiper-slide video {
            max-width: 100%; /* Permite que ocupem a largura total do contêiner */
            max-height: 100%; /* Limita a altura ao tamanho do contêiner */
            width: auto; /* Ajusta a largura automaticamente */
            height: auto; /* Ajusta a altura automaticamente */
        }
    
        @media (min-width: 768px) {
            .swiper-slide {
                height: 600px; /* Aumenta a altura para telas maiores */
            }
        }
    
        @media (min-width: 1200px) {
            .swiper-slide {
                height: 800px; /* Aumenta ainda mais para telas muito grandes */
            }
        }
    </style>    
</head>
<body>
    <div class="swiper-container">
        <div class="swiper-wrapper" id="media-wrapper"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-pagination"></div>
    </div>

    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
        async function fetchMedia() {
            const response = await fetch('https://api.github.com/repos/tuesbela/imagenstv/contents/midia');
            const mediaFiles = await response.json();
            const mediaWrapper = document.getElementById('media-wrapper');

            mediaFiles.forEach(file => {
                const slide = document.createElement('div');
                slide.classList.add('swiper-slide');

                if (file.name.endsWith('.jpg') || file.name.endsWith('.jpeg') || file.name.endsWith('.png')) {
                    slide.innerHTML = `<img src="${file.download_url}" alt="${file.name}">`;
                } else if (file.name.endsWith('.mp4')) {
                    slide.innerHTML = `<video controls><source src="${file.download_url}" type="video/mp4">Seu navegador não suporta vídeos HTML5.</video>`;
                }

                mediaWrapper.appendChild(slide);
            });

            // Inicializa o Swiper
            new Swiper('.swiper-container', {
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                loop: true,
                autoplay: {
                    delay: 3000,
                    disableOnInteraction: false,
                },
            });
        }

        fetchMedia();
    </script>
</body>
</html>
